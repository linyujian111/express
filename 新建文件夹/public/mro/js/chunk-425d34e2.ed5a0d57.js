(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-425d34e2"],{"01c1":function(e,t,n){"use strict";var i=n("a4bf"),a=n.n(i);a.a},"38d5":function(e,t,n){"use strict";n("68ef")},"61aa":function(e,t,n){e.exports=n.p+"img/mrolgbg.3546be00.jpg"},"66df":function(e,t,n){"use strict";function i(){var e={};(function(e){e.STATE="x - back",e.element,e.onPopState=function(t){t.state===e.STATE&&e.fire(),e.record(e.STATE)},e.record=function(e){history.pushState(e,null,location.href)},e.fire=function(){var t=document.createEvent("Events");t.initEvent(e.STATE,!1,!1),e.element.dispatchEvent(t)},e.listen=function(t){e.element.addEventListener(e.STATE,t,!1)},e.init=function(){e.element=document.createElement("span"),window.addEventListener("popstate",e.onPopState),e.record(e.STATE)},window.XBack=e})(e),e.init(),e.listen((function(){}))}n.d(t,"a",(function(){return i}))},"772a":function(e,t,n){"use strict";var i=n("d282"),a=n("db85"),o=Object(i["a"])("form"),r=o[0],s=o[1];t["a"]=r({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var e=this;return new Promise((function(t,n){var i=[];e.fields.reduce((function(e,t){return e.then((function(){if(!i.length)return t.validate().then((function(e){e&&i.push(e)}))}))}),Promise.resolve()).then((function(){i.length?n(i):t()}))}))},validateAll:function(){var e=this;return new Promise((function(t,n){Promise.all(e.fields.map((function(e){return e.validate()}))).then((function(e){e=e.filter((function(e){return e})),e.length?n(e):t()}))}))},validate:function(e){return e?this.validateField(e):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(e){var t=this.fields.filter((function(t){return t.name===e}));return t.length?new Promise((function(e,n){t[0].validate().then((function(t){t?n(t):e()}))})):Promise.reject()},resetValidation:function(e){this.fields.forEach((function(t){e&&t.name!==e||t.resetValidation()}))},scrollToField:function(e,t){this.fields.some((function(n){return n.name===e&&(n.$el.scrollIntoView(t),!0)}))},addField:function(e){this.fields.push(e),Object(a["a"])(this.fields,this)},removeField:function(e){this.fields=this.fields.filter((function(t){return t!==e}))},getValues:function(){return this.fields.reduce((function(e,t){return e[t.name]=t.formValue,e}),{})},onSubmit:function(e){e.preventDefault(),this.submit()},submit:function(){var e=this,t=this.getValues();this.validate().then((function(){e.$emit("submit",t)})).catch((function(n){e.$emit("failed",{values:t,errors:n}),e.scrollToError&&e.scrollToField(n[0].name)}))}},render:function(){var e=arguments[0];return e("form",{class:s(),on:{submit:this.onSubmit}},[this.slots()])}})},a4bf:function(e,t,n){},ac1e:function(e,t,n){"use strict";n("68ef"),n("e3b3")},be7f:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("1a04"),n("1146")},dd7b:function(e,t,n){"use strict";n.r(t);var i,a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"MRO-login"},[i("img",{staticClass:"lgbgimg",attrs:{src:n("61aa"),alt:""}}),i("div",{staticClass:"login-box"},[i("van-form",{on:{submit:e.onSubmit}},[i("van-field",{attrs:{name:"账号",label:"账号：",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),i("van-field",{attrs:{type:"password",name:"密码",label:"密码：",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),i("div",{staticClass:"btnbox flexRC"},[e.isLogin?i("van-button",{attrs:{block:"",type:"info","native-type":"submit"}},[e._v("\n          登录\n        ")]):e._e()],1)],1)],1)])},o=[],r=(n("be7f"),n("565f")),s=(n("38d5"),n("772a")),l=(n("ac1e"),n("543e")),u=(n("e7e5"),n("d399")),c=n("66df"),f=n("b775"),d={toLogin:function(e){return f["a"].post("/login",e)}};function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={components:(i={},m(i,u["a"].name,u["a"]),m(i,l["a"].name,l["a"]),m(i,s["a"].name,s["a"]),m(i,r["a"].name,r["a"]),i),data:function(){return{isLogin:!0,username:"",password:""}},created:function(){},mounted:function(){Object(c["a"])()},beforeDestroy:function(){window.removeEventListener("popstate",XBack.onPopState,!1),"null"!=window.localStorage.getItem("WXtoken")&&""!=window.localStorage.getItem("WXtoken")||window.localStorage.removeItem("WXtoken")},methods:{onSubmit:function(){var e=this;u["a"].loading({duration:0,message:"登录中...",forbidClick:!0,loadingType:"spinner"});var t=new FormData;t.append("username",this.username),t.append("password",this.password),d.toLogin(t).then((function(t){"ok"==t.errcode?(u["a"].clear(),u["a"].success(t.errmsg),setTimeout((function(){e.$router.push({path:"/delivery/0"})}),1e3)):u["a"].fail("账号密码错误，请重新输入")})).catch((function(e){u["a"].fail("登录失败")}))}}},v=h,p=(n("01c1"),n("2877")),b=Object(p["a"])(v,a,o,!1,null,"7a1bb59d",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-425d34e2.ed5a0d57.js.map