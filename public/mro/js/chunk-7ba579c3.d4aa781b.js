(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ba579c3"],{"03e0":function(t,i,a){t.exports=a.p+"img/nowin.81a03067.png"},"0c23":function(t,i,a){t.exports=a.p+"img/close.9dd81578.png"},"5f2a":function(t,i,a){},"63c6":function(t,i,a){t.exports=a.p+"img/showBG.f2132d42.jpg"},"767b":function(t,i,a){"use strict";var n=a("5f2a"),e=a.n(n);e.a},"83fe":function(t,i,a){"use strict";a.r(i);var n=function(){var t=this,i=t.$createElement,n=t._self._c||i;return t.isshow?n("div",{staticClass:"show",style:{background:"url("+t.bgImgUrl+")no-repeat"}},[n("div",{staticClass:"bigbox"},[n("div",{staticClass:"zhuti"},[n("img",{staticClass:"border-img",style:{width:"100%"},attrs:{src:t.resData.prizeTitleUrl,alt:""}})]),n("div",{staticClass:"chanpin"},[n("img",{attrs:{src:t.resData.prizeUrl,alt:""}})]),n("div",{staticClass:"Xuser"},[t._v("中奖用户")]),n("div",{staticClass:"inputbox"},[n("img",{style:{width:"100%"},attrs:{src:a("89fb"),alt:""}})]),n("div",{staticClass:"img-info"},[n("div",{staticClass:"img-info-name",domProps:{innerHTML:t._s(t.resData.nickName)}}),n("div",{staticClass:"img-info-order"},[t._v(t._s(t.resData.orderCode))])]),n("div",{staticClass:"btnbox"},[n("van-button",{attrs:{block:"",type:"info","native-type":"submit"},on:{click:t.toGoReceiveAward}},[t._v("领取奖品")])],1)]),n("van-popup",{staticClass:"successPopup",attrs:{closeable:""},model:{value:t.show1,callback:function(i){t.show1=i},expression:"show1"}},[n("div",{staticClass:"successPopupinfo",staticStyle:{"text-align":"center"}},[t._v(t._s(t.successTip))])]),n("van-popup",{staticClass:"failTip",model:{value:t.isShowFailTip,callback:function(i){t.isShowFailTip=i},expression:"isShowFailTip"}},[n("img",{staticClass:"close-info",attrs:{src:a("03e0"),alt:""}}),n("img",{staticClass:"close-icon",attrs:{src:a("0c23"),alt:""},on:{click:function(i){t.isShowFailTip=!1}}})])],1):t._e()},e=[],s=(a("e7e5"),a("d399")),o=a("89c8"),r=(a("bc3a"),{data:function(){return{isshow:!1,ZTimgURL:"",show1:!1,successTip:"222222222222",resData:{},originalHeight:"",bgImgUrl:a("63c6"),isShowFailTip:!1}},created:function(){this.getTitle()},mounted:function(){this.getWinningInfo(),this.isshow=!0},filters:{},methods:{getTitle:function(){try{var t,i=this.$route.params.yearMonth;if(i){var a=i.split("-")[1];"0"==a[0]&&(t=a.substr(1))}document.title=1*t<=12?t+"月份中奖名单":"中奖名单"}catch(n){document.title="中奖名单"}},getWinningInfo:function(){var t=this;window.localStorage.setItem("isAddToken","false"),s["a"].loading({duration:0,message:"",forbidClick:!0,loadingType:"spinner"}),o["a"].listWinningInfo({fromSystem:"LOTTERY_SYSTEM",orderCode:null,yearMonth:this.$route.params.yearMonth}).then((function(i){i.data.length>0?(window.localStorage.setItem("isAddToken","true"),s["a"].clear(),t.resData=i.data[0]):(window.localStorage.setItem("isAddToken","true"),s["a"].clear(),s["a"].fail("查询中奖用户信息失败"))})).catch((function(t){window.localStorage.setItem("isAddToken","true")}))},toGoReceiveAward:function(){var t=this;if("null"==window.localStorage.getItem("WXtoken"))return s["a"].clear(),void s["a"].fail("您尚未授权登录");window.localStorage.getItem("WXtoken")&&"null"!=window.localStorage.getItem("WXtoken")?(s["a"].loading({duration:0,message:"",forbidClick:!0,loadingType:"spinner"}),window.localStorage.setItem("isAddToken","true"),o["a"].listWinningInfo({fromSystem:"LOTTERY_SYSTEM",orderCode:null,yearMonth:this.$route.params.yearMonth}).then((function(i){"200"==i.code?0!=i.data.length?"2"==i.data[0].expireState?(s["a"].clear(),t.show1=!0,t.successTip="领奖已过期，无法领奖"):"1"==i.data[0].expireState?(window.localStorage.setItem("WXwinningInfo",JSON.stringify(i.data)),s["a"].clear(),t.$router.push({path:"/write/".concat(i.data[0].id)})):(s["a"].clear(),s["a"].fail("系统异常")):(s["a"].clear(),t.isShowFailTip=!0):"001"==i.code&&(s["a"].clear(),s["a"].fail("无法获取用户信息，请退出页面重新获取"))})).catch((function(t){window.localStorage.setItem("isAddToken","true")}))):(s["a"].clear(),s["a"].fail("您尚未授权登录"))}}}),c=r,l=(a("767b"),a("2877")),d=Object(l["a"])(c,n,e,!1,null,"4a24dd22",null);i["default"]=d.exports},"89c8":function(t,i,a){"use strict";var n=a("b775");i["a"]={getWinningAddress:function(t){return n["a"].post("/winning/getWinningAddress",t)},getYearMonth:function(t){return n["a"].post("/winning/getYearMonth",t)},listWinningInfo:function(t){return n["a"].post("/winning/listWinningInfo",t)},saveWinningAddressInfo:function(t){return n["a"].post("/winning/saveWinningAddressInfo",t)}}},"89fb":function(t,i,a){t.exports=a.p+"img/xxk.30ed1e29.png"}}]);
//# sourceMappingURL=chunk-7ba579c3.d4aa781b.js.map