{"version":3,"sources":["webpack:///./src/views/write.vue?c87e","webpack:///./src/api/winning/winning.js","webpack:///./src/views/write.vue?d544","webpack:///src/views/write.vue","webpack:///./src/views/write.vue?b72d","webpack:///./src/views/write.vue"],"names":["getWinningAddress","params","service","post","getYearMonth","listWinningInfo","saveWinningAddressInfo","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","showArea","expression","areaList","on","onConfirm","$event","show1","staticStyle","_s","successTip","onSubmit","required","message","nativeOn","formData","consignee","replace","$set","trigger","address","dhErrorMessage","phone","_l","item","index","key","prizeUrl","prizeTitle","prizeName","isshownoEditTip","target","currentTarget","toCanle","toSubmit","_e","staticRenderFns","components","data","area","winningInfo","show2","isshow","created","WXwinningInfo","JSON","parse","type","icon","duration","mounted","methods","validator","test","val","length","forbidClick","loadingType","winning","ruletellphone","Reg","values","component"],"mappings":"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","file":"js/chunk-199b84a2.dfd250a2.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./write.vue?vue&type=style&index=0&id=cece46f4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./write.vue?vue&type=style&index=0&id=cece46f4&lang=less&scoped=true&\"","import service from '@/utils/request';\r\nexport default {\r\n\r\n    // 查询中奖地址\r\n    getWinningAddress(params) {\r\n        return service.post('/winning/getWinningAddress', params);\r\n    },\r\n\r\n    // 返回期数\r\n    getYearMonth(params){\r\n        return service.post('/winning/getYearMonth', params);\r\n    },\r\n\r\n\r\n    // 根据期数和订单号擦洗该用户的中奖list\r\n    listWinningInfo(params) {\r\n        return service.post('/winning/listWinningInfo', params);\r\n    },\r\n\r\n\r\n    // 用户提交中奖地址\r\n    saveWinningAddressInfo(params){\r\n        return service.post('/winning/saveWinningAddressInfo', params);\r\n    }\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isshow)?_c('div',{staticClass:\"write-box\"},[_c('div',{staticClass:\"tipbox\"},[_vm._v(\"为保证活动公正性，获奖用户如在中奖公布后的1个月内就该订单货品提出退货申请的，将视为其放弃获奖资格。\")]),_c('div',{staticClass:\"main\"},[_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showArea),callback:function ($$v) {_vm.showArea=$$v},expression:\"showArea\"}},[_c('van-area',{attrs:{\"item-height\":\"1.174rem\",\"title\":\"选择地区\",\"area-list\":_vm.areaList,\"visible-item-count\":\"5\"},on:{\"confirm\":_vm.onConfirm,\"cancel\":function($event){_vm.showArea = false}}})],1),_c('van-popup',{staticClass:\"successPopup\",attrs:{\"closeable\":\"\"},model:{value:(_vm.show1),callback:function ($$v) {_vm.show1=$$v},expression:\"show1\"}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.successTip))])]),_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('div',{staticClass:\"form-top\"},[_c('van-field',{attrs:{\"name\":\"consignee\",\"maxlength\":\"25\",\"label\":\"收货人姓名\",\"placeholder\":\"请输入收货人姓名\",\"rules\":[{ required: true, message: '不能为空' }]},nativeOn:{\"input\":function($event){_vm.formData.consignee=_vm.formData.consignee.replace(/[^\\a-\\z\\A-\\Z0-9\\u4E00-\\u9FA5\\.]/g,'')}},model:{value:(_vm.formData.consignee),callback:function ($$v) {_vm.$set(_vm.formData, \"consignee\", $$v)},expression:\"formData.consignee\"}}),_c('van-field',{attrs:{\"readonly\":\"\",\"autosize\":\"\",\"name\":\"area\",\"label\":\"所在地区\",\"placeholder\":\"请输入所在地区\",\"rules\":[{ required: true, message: '不能为空',trigger:'onChange'}]},on:{\"click\":function($event){_vm.showArea = true}},model:{value:(_vm.formData.area),callback:function ($$v) {_vm.$set(_vm.formData, \"area\", $$v)},expression:\"formData.area\"}}),_c('van-field',{staticClass:\"input-item\",attrs:{\"type\":\"textarea\",\"rows\":\"1\",\"autosize\":\"\",\"name\":\"dz\",\"label\":\"详细地址\",\"maxlength\":\"50\",\"placeholder\":\"请输入详细地址\",\"rules\":[{ required: true, message: '不能为空' }]},nativeOn:{\"input\":function($event){_vm.formData.address=_vm.formData.address.replace(/[^\\a-\\z\\A-\\Z0-9\\u4E00-\\u9FA5]/g,'')}},model:{value:(_vm.formData.address),callback:function ($$v) {_vm.$set(_vm.formData, \"address\", $$v)},expression:\"formData.address\"}}),_c('van-field',{attrs:{\"name\":\"phone\",\"label\":\"手机号码\",\"placeholder\":\"请输入手机号码\",\"error-message\":_vm.dhErrorMessage,\"rules\":[{ required: true, message: '不能为空' }]},nativeOn:{\"input\":function($event){_vm.formData.phone=_vm.formData.phone.replace(/[^0-9\\.]/g,'')}},model:{value:(_vm.formData.phone),callback:function ($$v) {_vm.$set(_vm.formData, \"phone\", $$v)},expression:\"formData.phone\"}})],1),_vm._l((_vm.winningInfo),function(item,index){return _c('div',{key:index,staticClass:\"form-bottom\"},[_c('div',{staticClass:\"form-bottom-img\"},[_c('img',{attrs:{\"src\":item.prizeUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"form-bottom-info\"},[_c('div',{staticClass:\"form-bottom-info-title\"},[_vm._v(_vm._s(item.prizeTitle))]),_c('div',{staticClass:\"form-bottom-info-good\"},[_c('div',{staticClass:\"form-bottom-info-good-name\"},[_vm._v(_vm._s(item.prizeName))]),_c('div',{staticClass:\"form-bottom-info-good-num\"},[_c('span',{staticClass:\"x\"},[_vm._v(\"X\")]),_c('span',{staticClass:\"n\"},[_vm._v(\"1\")])])])])])}),_c('van-popup',{model:{value:(_vm.isshownoEditTip),callback:function ($$v) {_vm.isshownoEditTip=$$v},expression:\"isshownoEditTip\"}},[_c('div',{staticClass:\"shownoEditTip\"},[_c('div',{staticClass:\"info\"},[_vm._v(\"领奖信息提交后无法修改，是否提交\")]),_c('div',{staticClass:\"btn\"},[_c('div',{staticClass:\"btn1\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.toCanle($event)}}},[_vm._v(\"取消\")]),_c('div',{staticClass:\"btn2\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.toSubmit($event)}}},[_vm._v(\"确认\")])])])]),_c('div',{staticClass:\"bottom-button\"},[_c('van-button',{attrs:{\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"领取奖品\")])],1)],2)],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"write-box\" v-if=\"isshow\">\r\n    <div class=\"tipbox\">为保证活动公正性，获奖用户如在中奖公布后的1个月内就该订单货品提出退货申请的，将视为其放弃获奖资格。</div>\r\n    <div class=\"main\">\r\n      <!-- <div class=\"main-button\">\r\n                        <van-button @click=\"toGoReceiveAward\" loading-type=\"spinner\">前往领奖</van-button>\r\n      </div>-->\r\n      <van-popup v-model=\"showArea\" position=\"bottom\">\r\n        <van-area\r\n          item-height=\"1.174rem\"\r\n          title=\"选择地区\"\r\n          :area-list=\"areaList\"\r\n          visible-item-count=\"5\"\r\n          @confirm=\"onConfirm\"\r\n          @cancel=\"showArea = false\"\r\n        />\r\n      </van-popup>\r\n\r\n      <van-popup closeable v-model=\"show1\" class=\"successPopup\">\r\n        <div style=\"text-align:center\">{{successTip}}</div>\r\n      </van-popup>\r\n\r\n      <van-form @submit=\"onSubmit\">\r\n        <div class=\"form-top\">\r\n          <van-field\r\n            @input.native=\"formData.consignee=formData.consignee.replace(/[^\\a-\\z\\A-\\Z0-9\\u4E00-\\u9FA5\\.]/g,'')\"\r\n            v-model=\"formData.consignee\"\r\n            name=\"consignee\"\r\n            maxlength=\"25\"\r\n            label=\"收货人姓名\"\r\n            placeholder=\"请输入收货人姓名\"\r\n            :rules=\"[{ required: true, message: '不能为空' }]\"\r\n          ></van-field>\r\n\r\n          <van-field\r\n            readonly\r\n            autosize\r\n            name=\"area\"\r\n            v-model=\"formData.area\"\r\n            label=\"所在地区\"\r\n            placeholder=\"请输入所在地区\"\r\n            @click=\"showArea = true\"\r\n            :rules=\"[{ required: true, message: '不能为空',trigger:'onChange'}]\"\r\n          ></van-field>\r\n\r\n          <van-field\r\n            type=\"textarea\"\r\n            rows=\"1\"\r\n            autosize\r\n            class=\"input-item\"\r\n            v-model=\"formData.address\"\r\n            name=\"dz\"\r\n            @input.native=\"formData.address=formData.address.replace(/[^\\a-\\z\\A-\\Z0-9\\u4E00-\\u9FA5]/g,'')\"\r\n            label=\"详细地址\"\r\n            maxlength=\"50\"\r\n            placeholder=\"请输入详细地址\"\r\n            :rules=\"[{ required: true, message: '不能为空' }]\"\r\n          ></van-field>\r\n\r\n          <van-field\r\n            v-model=\"formData.phone\"\r\n            @input.native=\"formData.phone=formData.phone.replace(/[^0-9\\.]/g,'')\"\r\n            name=\"phone\"\r\n            label=\"手机号码\"\r\n            placeholder=\"请输入手机号码\"\r\n            :error-message=\"dhErrorMessage\"\r\n            :rules=\"[{ required: true, message: '不能为空' }]\"\r\n          ></van-field>\r\n        </div>\r\n\r\n        <div class=\"form-bottom\" v-for=\"(item,index) in winningInfo\" :key=\"index\">\r\n          <div class=\"form-bottom-img\">\r\n            <img :src=\"item.prizeUrl\" alt />\r\n          </div>\r\n          <div class=\"form-bottom-info\">\r\n            <div class=\"form-bottom-info-title\">{{item.prizeTitle}}</div>\r\n            <div class=\"form-bottom-info-good\">\r\n              <div class=\"form-bottom-info-good-name\">{{item.prizeName}}</div>\r\n              <div class=\"form-bottom-info-good-num\">\r\n                <span class=\"x\">X</span>\r\n                <span class=\"n\">1</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <van-popup v-model=\"isshownoEditTip\">\r\n          <div class=\"shownoEditTip\">\r\n            <div class=\"info\">领奖信息提交后无法修改，是否提交</div>\r\n            <div class=\"btn\">\r\n              <div class=\"btn1\" @click.self=\"toCanle\">取消</div>\r\n\r\n              <div class=\"btn2\" @click.self=\"toSubmit\">确认</div>\r\n            </div>\r\n          </div>\r\n        </van-popup>\r\n\r\n        <!-- <van-area title=\"标题\" :area-list=\"areaList\" /> -->\r\n        <div class=\"bottom-button\">\r\n          <van-button block type=\"info\" native-type=\"submit\">领取奖品</van-button>\r\n        </div>\r\n      </van-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport winning from \"@/api/winning/winning\";\r\nimport { Form, Field, RadioGroup, Radio, Area, Toast, Dialog } from \"vant\";\r\n\r\nimport areaList from \"@/utils/area.js\";\r\nexport default {\r\n  components: {\r\n    [Form.name]: Form,\r\n    [Field.name]: Field,\r\n    [RadioGroup.name]: RadioGroup,\r\n    [Radio.name]: Radio,\r\n    [Area.name]: Area,\r\n    [Dialog.Component.name]: Dialog.Component,\r\n  },\r\n  data() {\r\n    return {\r\n      isshownoEditTip: false,\r\n      dhErrorMessage: \"\",\r\n      successTip: \"\",\r\n      areaList: {},\r\n      formData: {\r\n        consignee: \"\",\r\n        area: \"\",\r\n        phone: \"\",\r\n        address: \"\",\r\n      },\r\n      winningInfo: [],\r\n      value: \"\",\r\n      show1: false,\r\n      show2: false,\r\n      showArea: false,\r\n      isshow: true, //是否显示该页面内容\r\n    };\r\n  },\r\n  created() {\r\n    this.areaList = areaList;\r\n\r\n    // 判断是否有权限进入该页面\r\n    let WXwinningInfo = window.localStorage.getItem(\"WXwinningInfo\");\r\n\r\n    if (WXwinningInfo) {\r\n      // 如果有权限，则取到中奖信息\r\n      this.winningInfo = JSON.parse(WXwinningInfo);\r\n    } else {\r\n      // 如果没权限，则隐藏页面并提示\r\n      this.isshow = false;\r\n\r\n      Toast.fail({\r\n        type: \"fail\",\r\n        message: \"您无权访问该页面\",\r\n        icon: \"fail\",\r\n        duration: 0,\r\n      });\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    // inputdh(val){\r\n\r\n    //   this.formData.dh=val.replace(/\\D/g,'')\r\n    // },\r\n    // JYdh() {\r\n    //   if (this.formData.dh.length > 11) {\r\n    //     this.dhErrorMessage = \"电话号码错误\";\r\n    //     return false;\r\n    //   } else {\r\n    //     this.dhErrorMessage = \"\";\r\n    //     return true;\r\n    //   }\r\n    // },\r\n    // 校验函数返回 true 表示校验通过，false 表示不通过\r\n    validator(val) {\r\n      return /^[1][3,4,5,7,8][\\d]{9}$/.test(val);\r\n    },\r\n\r\n    onSubmit(values) {\r\n      if (this.formData.phone.length != 11) {\r\n        Toast.fail(\"手机号码长度为11位数\");\r\n        return;\r\n      }\r\n      \r\nthis.isshownoEditTip = true;\r\n  //     Dialog.alert({\r\n  //       showCancelButton:true,\r\n  //       title: \"标题\",\r\n  //       message: \"弹窗内容\",\r\n  //     }).then(() => {\r\n  //       // on close\r\n  //     }) .catch(() => {\r\n  //   // on cancel\r\n  // });\r\n    },\r\n\r\n    toCanle() {\r\n      this.isshownoEditTip = false;\r\n    },\r\n\r\n    toSubmit() {\r\n      this.isshownoEditTip = false;\r\n\r\n      Toast.loading({\r\n        duration: 0,\r\n        message: \"领取中...\",\r\n        forbidClick: true,\r\n        loadingType: \"spinner\",\r\n      });\r\n\r\n      winning\r\n        .saveWinningAddressInfo({\r\n          address: this.formData.address,\r\n          area: this.formData.area,\r\n          consignee: this.formData.consignee,\r\n          fromSystem: \"LOTTERY_SYSTEM\",\r\n          phone: this.formData.phone,\r\n          winningId: this.$route.params.winningId,\r\n        })\r\n        .then((res) => {\r\n          if (res.code == \"200\") {\r\n            Toast.clear();\r\n            this.successTip = \"恭喜您成功领取奖品!\";\r\n            this.show1 = true;\r\n\r\n            setTimeout(() => {\r\n              this.$router.push({ name: \"send\" });\r\n            }, 2000);\r\n          } else if (res.code == \"2001\") {\r\n            Toast.clear();\r\n            this.successTip = res.desc;\r\n            this.show1 = true;\r\n            this.$router.push({ name: \"sended\" });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          Toast.clear();\r\n          Toast.fail(\"领奖失败：\" + err);\r\n        });\r\n    },\r\n\r\n    //验证手机号的合法性\r\n    ruletellphone(val) {\r\n      let Reg = /^[1][3,4,5,7,8][\\d]{9}$/;\r\n      return Reg.test(val);\r\n    },\r\n\r\n    onConfirm(values) {\r\n      this.formData.area = values\r\n        .map((item) => {\r\n          if (item) {\r\n            return item.name;\r\n          } else {\r\n            return \"\";\r\n          }\r\n        })\r\n        .join(\"/\");\r\n      this.showArea = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n\r\n/deep/ .van-popup--center {\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n}\r\n/deep/ .shownoEditTip {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: center;\r\n  justify-content: center;\r\n  width: 270px;\r\n  height: 160px;\r\n\r\n  .info {\r\n    font-size: 16px;\r\n    width: 200px;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n    color: #333;\r\n  }\r\n  .btn {\r\n    margin-top: 10px;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    padding: 0 20px;\r\n\r\n    .btn1 {\r\n      width: 100px;\r\n      height: 45px;\r\n      border: 0;\r\n      color: #666;\r\n      font-size: 14px;\r\n      background-color: #edecee;\r\n      border-radius: 6px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      // margin-right: 20px;\r\n    }\r\n    .btn2 {\r\n      font-size: 14px;\r\n      width: 100px;\r\n      height: 45px;\r\n      border: 0;\r\n      color: white;\r\n      background-color: black;\r\n      border-radius: 6px;\r\n         display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n  }\r\n}\r\n.write-box {\r\n  height: 100%;\r\n  background-color: #f5f7f8;\r\n  padding-top: 10px;\r\n  padding-right: 12px;\r\n  padding-left: 12px;\r\n  .tipbox {\r\n    margin-top: -2px;\r\n    font-size: 9px;\r\n    line-height: 15px;\r\n    margin-bottom: 6px;\r\n    color: #666;\r\n  }\r\n  .main {\r\n    .form-top {\r\n      border-radius: 6px;\r\n      overflow: hidden;\r\n      margin-bottom: 10px;\r\n    }\r\n    .form-bottom {\r\n      padding: 20px;\r\n      border-radius: 6px;\r\n      overflow: hidden;\r\n      background: white;\r\n      display: flex;\r\n      flex-direction: row;\r\n      margin-bottom: 10px;\r\n      .form-bottom-img {\r\n        width: 70px;\r\n        height: 70px;\r\n        background: #fafafa;\r\n        margin-right: 18px;\r\n        overflow: hidden;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        img {\r\n          max-width: 102%;\r\n          max-height: 102%;\r\n        }\r\n      }\r\n\r\n      .form-bottom-info {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        .form-bottom-info-title {\r\n          font-size: 16px;\r\n          color: #333333;\r\n          font-weight: bold;\r\n          margin-bottom: 9px;\r\n        }\r\n\r\n        .form-bottom-info-good {\r\n          font-size: 12px;\r\n          color: #666666;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          display: flex;\r\n          margin-bottom: 4px;\r\n          .form-bottom-info-good-name {\r\n            flex: 1;\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n          }\r\n\r\n          .form-bottom-info-good-num {\r\n            width: 20px;\r\n            display: flex;\r\n            align-items: center;\r\n\r\n            .x {\r\n              font-size: 8px;\r\n              margin-right: 3px;\r\n              color: #333;\r\n              margin-bottom: -4px;\r\n            }\r\n            .n {\r\n              font-size: 16px;\r\n\r\n              font-weight: bold;\r\n              color: #333;\r\n              position: relative;\r\n              top: 0px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /deep/ .van-cell {\r\n    padding: 10px 20px;\r\n  }\r\n\r\n  /deep/ .van-picker__cancel {\r\n    color: #0070ef;\r\n    font-size: 14px;\r\n  }\r\n\r\n  /deep/ .van-picker__confirm {\r\n    color: #0070ef;\r\n    font-size: 14px;\r\n  }\r\n\r\n  /deep/ .van-button {\r\n    border-radius: 6px;\r\n  }\r\n\r\n  /deep/ .van-field__label {\r\n    color: #333;\r\n    font-size: 14px;\r\n  }\r\n  /deep/ .van-picker__title {\r\n    font-weight: bold;\r\n    color: #333333;\r\n  }\r\n  /deep/ .van-cell::after {\r\n    border-bottom: 2px solid #f5f7f8;\r\n  }\r\n\r\n  /deep/ .van-button--info {\r\n    background-color: #1f2223;\r\n    border: 0.02667rem solid #323233;\r\n  }\r\n\r\n  /deep/ .van-field__control {\r\n    font-size: 14px;\r\n    font-weight: unset;\r\n    font-family: \"PingFang SC\";\r\n  }\r\n\r\n  /deep/ input::-webkit-input-placeholder {\r\n    /* placeholder颜色 */\r\n    color: #c5c5c5;\r\n    font-weight: normal !important;\r\n    font-family: \"PingFang SC\";\r\n    font-size: 14px;\r\n  }\r\n\r\n  // /deep/ .bottom-button {\r\n  //   margin-top: 10px;\r\n  // }\r\n\r\n  /deep/ .van-ellipsis {\r\n    font-size: 14px;\r\n\r\n    // font-weight: bold;\r\n  }\r\n\r\n  /deep/ .van-picker__toolbar {\r\n    border-bottom: 1px solid #f5f7f8;\r\n  }\r\n  // /deep/ .van-picker-column__item{\r\n  //   height: 44px !important;\r\n  // }\r\n\r\n  // /deep/ .van-popup--bottom{\r\n  //    height: 200px !important;\r\n  // }\r\n\r\n  /deep/ .van-picker__frame {\r\n    width: 100%;\r\n    right: unset !important;\r\n    left: unset !important;\r\n  }\r\n\r\n  /deep/ .successPopup {\r\n    height: 140px;\r\n    padding: 30px;\r\n    width: 235px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 10px;\r\n    font-size: 16px;\r\n    color: #333333;\r\n    font-weight: bold;\r\n  }\r\n\r\n  /deep/ .van-popup__close-icon--top-right {\r\n    top: 6px;\r\n    right: 6px;\r\n  }\r\n\r\n  /deep/ .van-field--error .van-field__control,\r\n  .van-field--error .van-field__control::placeholder {\r\n    color: #c5c5c5 !important;\r\n  }\r\n}\r\n\r\n/deep/ textarea::-webkit-scrollbar {\r\n  /*隐藏滚轮*/\r\n  width: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./write.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./write.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./write.vue?vue&type=template&id=cece46f4&scoped=true&\"\nimport script from \"./write.vue?vue&type=script&lang=js&\"\nexport * from \"./write.vue?vue&type=script&lang=js&\"\nimport style0 from \"./write.vue?vue&type=style&index=0&id=cece46f4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cece46f4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}